{"ast":null,"code":"import _slicedToArray from\"C:/Users/AJAY PATIDAR/Desktop/new project/Manage-Employees-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Employee from\"./Employee\";import{useContext,useState,useEffect}from\"react\";import{EmployeeContext}from\"../context/EmployeeContext\";import{Button,Modal,Alert}from\"react-bootstrap\";import AddForm from\"./AddForm\";import Pagination from\"./Pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EmployeeList=function EmployeeList(){var _useContext=useContext(EmployeeContext),sortedEmployees=_useContext.sortedEmployees;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showAlert=_useState4[0],setShowAlert=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(5),_useState8=_slicedToArray(_useState7,1),employeesPerPage=_useState8[0];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var handleAlert=function handleAlert(){setShowAlert(true);setTimeout(function(){setShowAlert(false);},2000);};useEffect(function(){handleClose();return function(){handleAlert();};},[sortedEmployees]);var indexOfLastEmployee=currentPage*employeesPerPage;var indesOfFirstEmployee=indexOfLastEmployee-employeesPerPage;var currentEmployees=sortedEmployees.slice(indesOfFirstEmployee,indexOfLastEmployee);var totalPages=Math.ceil(sortedEmployees.length/employeesPerPage);var totalEmployee=employeesPerPage*totalPages;return/*#__PURE__*/ (// <> => <React.Fragment> shortcut\n_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Manage \",/*#__PURE__*/_jsx(\"b\",{children:\"Employees\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsxs(Button,{onClick:handleShow,className:\"btn btn-success text-white\",\"data-toggle\":\"modal\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"\\uE147\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Add New Employee\"})]})})]})}),/*#__PURE__*/_jsx(Alert,{variant:\"success\",show:showAlert,children:\"EmployeList successfully updated!\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover w-100\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currentEmployees.map(function(employee){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(Employee,{employee:employee})},employee.id);})})]}),/*#__PURE__*/_jsx(Pagination,{setCurrentPage:setCurrentPage,totalPages:totalPages,totalEmployee:totalEmployee,currentEmployees:currentEmployees}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{className:\"modal-header\",closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Add New Employee\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(AddForm,{})}),/*#__PURE__*/_jsx(Modal.Footer,{children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"Close\"})})]})]}));};export default EmployeeList;","map":{"version":3,"sources":["C:/Users/AJAY PATIDAR/Desktop/new project/Manage-Employees-main/src/components/EmployeeList.js"],"names":["React","Employee","useContext","useState","useEffect","EmployeeContext","Button","Modal","Alert","AddForm","Pagination","EmployeeList","sortedEmployees","show","setShow","showAlert","setShowAlert","currentPage","setCurrentPage","employeesPerPage","handleClose","handleShow","handleAlert","setTimeout","indexOfLastEmployee","indesOfFirstEmployee","currentEmployees","slice","totalPages","Math","ceil","length","totalEmployee","map","employee","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Employee from \"./Employee\";\nimport { useContext, useState, useEffect } from \"react\";\nimport { EmployeeContext } from \"../context/EmployeeContext\";\nimport { Button, Modal, Alert } from \"react-bootstrap\";\nimport AddForm from \"./AddForm\";\nimport Pagination from \"./Pagination\";\n\nconst EmployeeList = () => {\n  const { sortedEmployees } = useContext(EmployeeContext);\n\n  const [show, setShow] = useState(false);\n  const [showAlert, setShowAlert] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [employeesPerPage] = useState(5);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const handleAlert = () => {\n    setShowAlert(true);\n    setTimeout(() => {\n      setShowAlert(false);\n    }, 2000);\n  };\n\n  useEffect(() => {\n    handleClose();\n    return () => {\n      handleAlert();\n    };\n  }, [sortedEmployees]);\n\n  const indexOfLastEmployee = currentPage * employeesPerPage;\n  const indesOfFirstEmployee = indexOfLastEmployee - employeesPerPage;\n  const currentEmployees = sortedEmployees.slice(\n    indesOfFirstEmployee,\n    indexOfLastEmployee\n  );\n  const totalPages = Math.ceil(sortedEmployees.length / employeesPerPage);\n  const totalEmployee = employeesPerPage * totalPages;\n\n  return (\n    // <> => <React.Fragment> shortcut\n    <>\n      <div className=\"table-title\">\n        <div className=\"row\">\n          <div className=\"col-sm-6\">\n            <h2>\n              Manage <b>Employees</b>\n            </h2>\n          </div>\n          <div className=\"col-sm-6\">\n              <Button\n                onClick={handleShow}\n                className=\"btn btn-success text-white\"\n                data-toggle=\"modal\"\n              >\n                <i className=\"material-icons\">&#xE147;</i>{\" \"}\n                <span>Add New Employee</span>\n              </Button>\n          </div>\n        </div>\n      </div>\n      <Alert variant=\"success\" show={showAlert}>\n        EmployeList successfully updated!\n      </Alert>\n      <table className=\"table table-striped table-hover w-100\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Address</th>\n            <th>Phone</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {currentEmployees.map((employee) => (\n            <tr key={employee.id}>\n              <Employee employee={employee} />\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {/* Pagination */}\n      <Pagination\n        setCurrentPage={setCurrentPage}\n        totalPages={totalPages}\n        totalEmployee={totalEmployee}\n        currentEmployees={currentEmployees}\n      />\n      {/* Modal */}\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header className=\"modal-header\" closeButton>\n          <Modal.Title>Add New Employee</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <AddForm />\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n      {/* Modal End */}\n    </>\n  );\n};\n\nexport default EmployeeList;\n"]},"metadata":{},"sourceType":"module"}