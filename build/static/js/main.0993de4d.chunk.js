(this["webpackJsonpmanage-emp"]=this["webpackJsonpmanage-emp"]||[]).push([[0],{42:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),l=(a(42),a(7)),i=a(37),j=a(61),o=a(1),d=Object(c.createContext)(),b=function(e){var t=Object(c.useReducer)((function(e,t){switch(t.type){case"add_employee":return[].concat(Object(i.a)(e),[{id:Object(j.a)(),name:t.employee.name,email:t.employee.email,address:t.employee.address,phone:t.employee.phone}]);case"remove_employee":return e.filter((function(e){return e.id!==t.id}));case"update_employee":return e.map((function(e){return e.id===t.id?t.updatedEmployee:e}));default:return e}}),[],(function(){var e=localStorage.getItem("employees");return e?JSON.parse(e):[]})),a=Object(l.a)(t,2),n=a[0],s=a[1];Object(c.useEffect)((function(){localStorage.setItem("employees",JSON.stringify(n))}));var r=n.sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(o.jsx)(d.Provider,{value:{sortedEmployees:r,dispatch:s},children:e.children})},u=a(60),m=a(55),h=function(e){var t=Object(c.useContext)(d),a=t.dispatch,n=t.sortedEmployees.filter((function(t){return t.id===e.employeeID})),s=Object(c.useState)(n[0].name),r=Object(l.a)(s,2),i=r[0],j=r[1],b=Object(c.useState)(n[0].email),h=Object(l.a)(b,2),O=h[0],p=h[1],x=Object(c.useState)(n[0].address),y=Object(l.a)(x,2),f=y[0],g=y[1],v=Object(c.useState)(n[0].phone),N=Object(l.a)(v,2),C=N[0],E=N[1];return Object(o.jsxs)(u.a,{onSubmit:function(t){t.preventDefault();var c=e.employeeID;a({type:"update_employee",id:c,updatedEmployee:{id:c,name:i,email:O,address:f,phone:C}})},children:[Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee Name"}),Object(o.jsx)(u.a.Control,{type:"text",placeholder:"enter employee name",value:i,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Email email"}),Object(o.jsx)(u.a.Control,{type:"email",placeholder:"enter employee email",value:O,onChange:function(e){return p(e.target.value)},required:!0})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee address"}),Object(o.jsx)(u.a.Control,{as:"textarea",placeholder:"enter employee address",rows:3,value:f,onChange:function(e){return g(e.target.value)}})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee Phone"}),Object(o.jsx)(u.a.Control,{type:"text",placeholder:"Enter employee phone number",required:!0,value:C,onChange:function(e){return E(e.target.value)}})]}),Object(o.jsx)(u.a.Group,{className:"mt-2",children:Object(o.jsx)(m.a,{variant:"warning",type:"submit",className:"w-100",children:"Update Employee"})})]})},O=a(58),p=a(56),x=a(59),y=function(e){var t=e.employee,a=Object(c.useContext)(d).dispatch,s=Object(c.useState)(!1),r=Object(l.a)(s,2),i=r[0],j=r[1],b=function(){return j(!1)},u=Object(c.useState)(null),y=Object(l.a)(u,2),f=y[0],g=y[1];return Object(c.useEffect)((function(){b()}),[t]),Object(o.jsxs)(n.a.Fragment,{children:[Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("td",{children:t.name}),Object(o.jsx)("td",{children:t.email}),Object(o.jsx)("td",{children:t.address}),Object(o.jsx)("td",{children:t.phone}),Object(o.jsxs)("td",{children:[Object(o.jsx)(O.a,{placement:"top",overlay:Object(o.jsx)(p.a,{id:"tooltip-top",children:Object(o.jsx)("strong",{children:"Edit"})}),children:Object(o.jsx)("button",{onClick:function(){return e=t.id,j(!0),void g(e);var e},className:"btn text-warning","data-toggle":"modal",children:Object(o.jsx)("i",{className:"material-icons",children:"\ue254"})})}),Object(o.jsx)(O.a,{placement:"top",overlay:Object(o.jsx)(p.a,{id:"tooltip-top",children:Object(o.jsx)("strong",{children:"Delete"})}),children:Object(o.jsx)("button",{onClick:function(){return a({type:"remove_employee",id:t.id})},className:"btn text-danger",children:Object(o.jsx)("i",{className:"material-icons",children:"\ue872"})})},"top")]})]}),Object(o.jsxs)(x.a,{show:i,onHide:b,children:[Object(o.jsx)(x.a.Header,{className:"modal-header",closeButton:!0,children:Object(o.jsx)(x.a.Title,{children:"Update Employee"})}),Object(o.jsx)(x.a.Body,{children:Object(o.jsx)(h,{employeeID:f})}),Object(o.jsx)(x.a.Footer,{children:Object(o.jsx)(m.a,{variant:"secondary",onClick:b,children:"Close"})})]})]})},f=a(57),g=function(){var e=Object(c.useContext)(d).dispatch,t=Object(c.useState)(""),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),j=i[0],b=i[1],h=Object(c.useState)(""),O=Object(l.a)(h,2),p=O[0],x=O[1],y=Object(c.useState)(""),f=Object(l.a)(y,2),g=f[0],v=f[1];return Object(o.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),e({type:"add_employee",employee:{name:n,email:j,address:p,phone:g}})},children:[Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee Name"}),Object(o.jsx)(u.a.Control,{type:"text",placeholder:"enter employee name",value:n,onChange:function(e){return s(e.target.value)},required:!0})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Email email"}),Object(o.jsx)(u.a.Control,{type:"email",placeholder:"enter employee email",value:j,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee address"}),Object(o.jsx)(u.a.Control,{as:"textarea",placeholder:"enter employee address",rows:3,value:p,onChange:function(e){return x(e.target.value)}})]}),Object(o.jsxs)(u.a.Group,{className:"my-2",children:[Object(o.jsx)(u.a.Label,{children:"Employee Phone"}),Object(o.jsx)(u.a.Control,{type:"text",placeholder:"Enter employee phone number",required:!0,value:g,onChange:function(e){return v(e.target.value)}})]}),Object(o.jsx)(u.a.Group,{className:"mt-2",children:Object(o.jsx)(m.a,{variant:"success",type:"submit",className:"w-100",children:"Add New Employee"})})]})},v=function(e){for(var t=e.setCurrentPage,a=e.totalPages,n=e.currentEmployees,s=e.totalEmployee,r=[],i=1;i<=a;i++)r.push(i);var j=Object(c.useState)(1),d=Object(l.a)(j,2),b=d[0],u=d[1];return Object(c.useEffect)((function(){t(b)}),[b,t]),Object(o.jsxs)("div",{className:"clearfix",children:[Object(o.jsxs)("div",{className:"hint-text",children:["Showing ",Object(o.jsx)("b",{children:n.length})," out of ",Object(o.jsx)("b",{children:s})," entries"]}),Object(o.jsxs)("ul",{className:"pagination",children:[Object(o.jsx)("li",{className:1===b?"page-item disabled":"page-item",children:Object(o.jsx)("a",{href:"#!",className:1===b?"page-link disabled":"page-link",onClick:function(){return u((function(e){return 1===e?e:e-1}))},children:"Previous"})}),r.map((function(e,t){return Object(o.jsx)("li",{className:b===e?"page-item active":"page-item",children:Object(o.jsx)("a",{href:"#!",className:b===e?"page-link active":"page-link",onClick:function(){return u(e)},children:e})},t)})),Object(o.jsx)("li",{className:b===r.length?"page-item disabled":"page-item",children:Object(o.jsx)("a",{href:"#!",className:b===r.length?"page-link disabled":"page-link",onClick:function(){return u((function(e){return e===r.length?e:e+1}))},children:"Next"})})]})]})},N=function(){var e=Object(c.useContext)(d).sortedEmployees,t=Object(c.useState)(!1),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(!1),i=Object(l.a)(r,2),j=i[0],b=i[1],u=Object(c.useState)(1),h=Object(l.a)(u,2),O=h[0],p=h[1],N=Object(c.useState)(5),C=Object(l.a)(N,1)[0],E=function(){return s(!1)};Object(c.useEffect)((function(){return E(),function(){b(!0),setTimeout((function(){b(!1)}),2e3)}}),[e]);var S=O*C,w=S-C,k=e.slice(w,S),G=Math.ceil(e.length/C),L=C*G;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"table-title",children:Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsxs)("h2",{children:["Manage ",Object(o.jsx)("b",{children:"Employees"})]})}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsxs)(m.a,{onClick:function(){return s(!0)},className:"btn btn-success text-white","data-toggle":"modal",children:[Object(o.jsx)("i",{className:"material-icons",children:"\ue147"})," ",Object(o.jsx)("span",{children:"Add New Employee"})]})})]})}),Object(o.jsx)(f.a,{variant:"success",show:j,children:"EmployeList successfully updated!"}),Object(o.jsxs)("table",{className:"table table-striped table-hover w-100",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Name"}),Object(o.jsx)("th",{children:"Email"}),Object(o.jsx)("th",{children:"Address"}),Object(o.jsx)("th",{children:"Phone"}),Object(o.jsx)("th",{children:"Actions"})]})}),Object(o.jsx)("tbody",{children:k.map((function(e){return Object(o.jsx)("tr",{children:Object(o.jsx)(y,{employee:e})},e.id)}))})]}),Object(o.jsx)(v,{setCurrentPage:p,totalPages:G,totalEmployee:L,currentEmployees:k}),Object(o.jsxs)(x.a,{show:n,onHide:E,children:[Object(o.jsx)(x.a.Header,{className:"modal-header",closeButton:!0,children:Object(o.jsx)(x.a.Title,{children:"Add New Employee"})}),Object(o.jsx)(x.a.Body,{children:Object(o.jsx)(g,{})}),Object(o.jsx)(x.a.Footer,{children:Object(o.jsx)(m.a,{variant:"secondary",onClick:E,children:"Close"})})]})]})};var C=function(){return Object(o.jsx)("div",{className:"container-xl",children:Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsx)("div",{className:"table-wrapper",children:Object(o.jsx)(b,{children:Object(o.jsx)(N,{})})})})})};a(48);r.a.render(Object(o.jsx)(C,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.0993de4d.chunk.js.map